<BR><H1>Logging and Debugging
&nbsp;&nbsp;&nbsp;&nbsp;<FONT size=-2>
<A href="XmlConfiguration.html">Back</A>
<A href="index.html">Index</A>
<A href="..">Exit</A>
<A href="other.html">Next</A>
</FONT></H1>
Jetty uses implementations of the 
<a href="/javadoc/org/mortbay/util/LogSink.html">org.mortbay.util.LogSink</a>
interface to provide debugging and request logging.  The
<a href="/javadoc/org/mortbay/util/OutputStreamLogSink.html">org.mortbay.util.OutputStreamLogSink</a>
can send logged data to System.err, System.out, a File or any other OutputStream.  If output
is to a file, then log rollover and aging is supported.
<P>
If Jetty is embedded in another application or product, a LogSink implementation can be
written to feed log events to the applications native log mechanism.
<P>
<FONT Size=+1><B>Request Logging</B></FONT><BR>
A LogSink instance may be added to a HttpServer or a HttpContext to generate a "standard"
request log:
<PRE>
    &lt;Configure class="org.mortbay.jetty.Server"&gt;
      &lt;!-- other config here --&gt;
      &lt;Set name="LogSink"&gt;
        &lt;New class="org.mortbay.util.OutputStreamLogSink"&gt;
          &lt;Arg&gt;&lt;SystemProperty name="jetty.log" default="./logs"/&gt;/yyyy_mm_dd.request.log&lt;/Arg&gt;
          &lt;Set name="retainDays"&gt;90&lt;/Set&gt;
          &lt;Set name="append"&gt;true&lt;/Set&gt;
          &lt;Set name="flushOn"&gt;false&lt;/Set&gt;
        &lt;/New&gt;
      &lt;/Set&gt;
    &lt;/Configure&gt;
</PRE>

<FONT Size=+1><B>Debugging</B></FONT><BR>
Debugging information is logged via the collection of LogSinks configured into the 
static instance of 
<a href="/javadoc/org/mortbay/util/Log.html">org.mortbay.util.Log</a>.
The static instance can be configured via the API, XML or java system properties:
<PRE>
    java -DLOG_FILE=./logs/requests_yyyy_mm_dd.log org.mortbay.jetty.Server
</PRE>
Jetty is instrumented with debugging statments provided by the
<a href="/javadoc/org/mortbay/util/Code.html">org.mortbay.util.Code</a> class.
It can be configured via the API, XML or java system properties:
<PRE>
    java \
      -DLOG_FILE=./logs/requests_yyyy_mm_dd.log \
      -DDEBUG \
      -DDEBUG_VERBOSE=99 \
      -DDEBUG_PATTERNS="SocketListener,ThreadedServer" \
      org.mortbay.jetty.Server
</PRE>

Sample XML to configure the debugging mechanism is below:
<PRE>
  &lt;Set name="Debug" class="org.mortbay.util.Code" type="boolean"&gt;false&lt;/Set&gt;
  &lt;Set name="Verbose" class="org.mortbay.util.Code" type="int"&gt;0&lt;/Set&gt;
  &lt;Set name="DebugPatterns" class="org.mortbay.util.Code" type="String"&gt;&lt;/Set&gt;

  &lt;Call name="instance" class="org.mortbay.util.Log"&gt;
    &lt;Call name="disableLog"/&gt;
    &lt;Call name="add"&gt; 
      &lt;Arg&gt;
        &lt;New class="org.mortbay.util.WriterLogSink"&gt;
          &lt;Arg&gt;&lt;SystemProperty name="jetty.log" default="./logs"/&gt;/yyyy_mm_dd.log&lt;/Arg&gt;
          &lt;Set name="RetainDays"&gt;90&lt;/Set&gt;
          &lt;Set name="Append"&gt;true&lt;/Set&gt;
          &lt;Call name="start"/&gt; 
        &lt;/New&gt;
      &lt;/Arg&gt;
    &lt;/Call&gt;
  &lt;/Call&gt;
</PRE>


<FONT size=-1>
<A href="XmlConfiguration.html">Back</A>
<A href="index.html">Index</A>
<A href="..">Exit</A>
<A href="other.html">Next</A>
</FONT>
<P>