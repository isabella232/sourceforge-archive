<BR><B><FONT SIZE="+2">Can I run a non root user on port 80? ?</FONT></B><HR>
Yes! 
<BR><BR>
On Unix derived systems, due to differenced between JVMs for how their threads 
map to kernel processes, it is not sufficient, secure or 100% java to call setuid 
to change to a non-root user after opening port 80.
<BR><BR>
A better solution is to run the server on a non-privileged port (eg 8080) and
use a firewall or routing mechanism to map port 80 to 8080. For example, on some
Linux systems the ipchains REDIRECT mechanism can be used to redirect from 
one port to another inside the kernel:
<code>
  /sbin/ipchains -I input --proto TCP --dport 80 -j REDIRECT 8080
</code>
This basically means, "Insert into the kernel's packet filtering the
following as the first rule to check on incoming packets: If the
protocol is TCP and the destination port is 80, redirect the packet to
port 8080."  Your kernel must be compiled with support for ipchains. (virtually all stock kernels are.) You must have the "ipchains"
command-line utility installed.  (On RedHat the package is aptly named
"ipchains".)  You can run this command at any time, preferably just once
since it inserts another copy of the rule every time you run it.
<BR><BR>
Once this rule is set up, a Linux 2.2 kernel will redirect all data
addressed to port 80 to a server such as Jetty running on port 8080.
This includes all RedHat 6.x distros.  Linux 2.4 kernels, e.g. RedHat
7.x,  have a similar "iptrees" facility.
<BR><BR>
Be careful to place rules like this one early in your "input" chain.
Such rules must precede any rule that would accept the packet, otherwise
the redirection won't occur.  You can insert as many rules as needed if
your server needs to listen on multiple ports, as for HTTPS.

<BR><BR><HR>
Return to <A HREF="JettyFaq.html">JettyFaq</A><HR>
</BODY>
</HTML>
