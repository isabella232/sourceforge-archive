<html>
<head><title>Hints for Debugging Jetty Problems</title>
</head>
<h1>Hints for Debugging Jetty Problems</h1>

<p> While Jetty is normally well behaved, there are times when it is necessary to
debug problems. This is a simple guide describing the debugging options
available and how to control them.

<p> The target audience is Java developers.

<h1>Jetty</h1>
<p> Debugging of Jetty is controlled by the <code>com.mortbay.Util.Code</code>
class - what follows is basically ripped out of the javadoc for that class.

<h4>System Properties</h4>

The debug output can be controlled with java System properties:
<ul>
  <li>DEBUG - If set, debug output is enabled
  </li>
  <li>DEBUG_PATTERNS - If set to a comma separated list of strings,
      Then debug output is only produced from those classes whose fully
      qualified class name contains one of the strings as a substring.
  </li>
  <li>DEBUG_OPTIONS - A string of option character. 'W' - suppress
      warnings unless debug is on, 'S' suppress stack frame dumps
  </li>
  <li>DEBUG_VERBOSE - Set to an integer verbosity level for
  use in controlling debug verbosity (see verbose(int))
  </li>
  <!-- TRIGGERS ARE NOT CURRENTLY SUPPORTED
    <li>DEBUG_TRIGGERS - Provide a comma separated string of triggers.
    </li>
  -->
</ul>

<h4>Using this with the java program:</h4>
<pre>
java [-DDEBUG [-DDEBUG_PATTERNS="MyClass,my.package"] \
              [-DDEBUG_OPTIONS=[S][W]] \
              [-DDEBUG_VERBOSE=n] ]  my.package.main
</pre>

<h4>example</h4>
<pre>
JAVA_OPTIONS='-DDEBUG' ./bin/jetty.sh run
</pre>

<hr>

<h1>JSSE</h1>
<p> As described in the JSSE FAQ, there is a debug facility built into JSSE controlled by the javax.net.debug property.
<p> Assuming that you've got JSSE configured properly you will be able to use it as follows, you will need to edit the etc/demo.xml as described in <a href="JsseSSL.html">The JSSE SSL doco</a>.
<p> To get help use:
<pre>
JAVA_OPTIONS='-Djavax.net.debug=help' ./bin/jetty.sh run
</pre>
<p> You will get something like this:
<pre>
all         turn on all debugging
ssl         turn on ssl debugging

The following can be used with ssl:
        record      enable per-record tracing
        handshake   print each handshake message
        keygen      print key generation data
        session     print session activity

        handshake debugging can be widened with:
        data        hex dump of each handshake message
        verbose     verbose handshake message printing

        record debugging can be widened with:
        plaintext   hex dump of record plaintext
</pre>
<h4>example</h4>
<pre>
JAVA_OPTIONS='-Djavax.net.debug=ssl,handshake,data' ./bin/jetty.sh run
</pre>

<hr>
Author: Brett Sealey.<br>
Last updated: 2001 March 14th
</body>
</html>
