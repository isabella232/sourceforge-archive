<?xml version="1.0"?> 
<!DOCTYPE Configure PUBLIC "-//Mort Bay Consulting//DTD Configure//EN" "http://jetty.mortbay.org/configure.dtd">


<!-- =============================================================== -->
<!-- Configure the Jetty Server                                      -->
<!-- =============================================================== -->
<Configure class="org.mortbay.jetty.Server">

    <!-- =========================================================== -->
    <!-- Set connectors                                              -->
    <!-- =========================================================== -->
    <!-- One of each type!                                           -->
    <!-- =========================================================== -->
    <Set name="connectors">
      <Array type="org.mortbay.jetty.Connector"> 
      
        <Item>
	      <New class="org.mortbay.jetty.bio.SocketConnector">
	        <Set name="port">8080</Set>
	      </New>
	    </Item>
	    
        <Item>
	      <New class="org.mortbay.jetty.nio.BlockingChannelConnector">
	        <Set name="port">8081</Set>
	      </New>
	    </Item>
	    
        <Item>
	      <New class="org.mortbay.jetty.nio.SelectChannelConnector">
	        <Set name="port">8082</Set>
	      </New>
	    </Item>
	    
        <Item>
	      <New class="org.mortbay.jetty.nio.SelectBlockingChannelConnector">
	        <Set name="port">8083</Set>
	      </New>
	    </Item>
	    
      </Array>
    </Set>

    <!-- =========================================================== -->
    <!-- Set handlers                                                -->
    <!-- =========================================================== -->
    <Set name="handlers">
      <Array type="org.mortbay.jetty.Handler"> 
      
        
        <!-- ======================================================= -->
        <!-- Configure a test web application with web.xml           -->
        <!-- ======================================================= -->
        <Item>
	      <New id="testWebAppContext"  class="org.mortbay.jetty.webapp.WebAppHandler">
	        <Set name="contextPath">/test</Set>
	        <Set name="war">./webapps/test</Set>
          </New>
        </Item>
        
        <!-- ======================================================= -->
        <!-- Configure a context directly                            -->
        <!-- ======================================================= -->
        <Item>
	      <New id="javadocContext"  class="org.mortbay.jetty.handler.ContextHandler">
	        <Set name="contextPath">/javadoc</Set>
	        <Set name="resourceBase">./javadoc</Set>
            <Set name="handler">
               <New id="javadocServletHandler" class="org.mortbay.jetty.servlet.ServletHandler"/>
            </Set>
          </New>
        </Item>
        
        <!-- ======================================================= -->
        <!-- Handle anything not already handled                     -->
        <!-- ======================================================= -->
        <Item>
	      <New  class="org.mortbay.jetty.handler.NotFoundHandler"/>
        </Item>
        
      </Array>
    </Set>


    <!-- =========================================================== -->
    <!-- Additional configuration for the components defined above   -->
    <!-- =========================================================== -->

	<Ref id="testWebAppContext">
      <Get name="SessionHandler">
		<Set name="SessionManager"><New class="org.mortbay.jetty.servlet.HashSessionManager"/></Set>
	  </Get>
	</Ref>

	<Ref id="javadocServletHandler">
	   <Set name="servlets">
	       <Array type="org.mortbay.jetty.servlet.ServletHolder">
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletHolder">
	                  <Set name="name">Default</Set>
	                  <Set name="className">org.mortbay.jetty.servlet.DefaultServlet</Set>
	              </New>
	           </Item>                
	        </Array>
	    </Set>
	    
	   <Set name="servletMappings">
	       <Array type="org.mortbay.jetty.servlet.ServletMapping">
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletMapping">
	                <Set name="pathSpec">/</Set>
	                <Set name="servletName">Default</Set>
	              </New>
	           </Item>
	       </Array>
	   </Set>
	</Ref>



    <Call name="start"/>

</Configure>









