<?xml version="1.0"?> 
<!DOCTYPE Configure PUBLIC "-//Mort Bay Consulting//DTD Configure//EN" "http://jetty.mortbay.org/configure.dtd">


<!-- =============================================================== -->
<!-- Configure the Jetty Server                                      -->
<!-- =============================================================== -->
<Configure class="org.mortbay.jetty.Server">


    <Set name="connectors">
      <Array type="org.mortbay.jetty.Connector"> 
      
        <Item>
	      <New class="org.mortbay.jetty.bio.SocketConnector">
	        <Set name="port">8080</Set>
	      </New>
	    </Item>
	    
        <Item>
	      <New class="org.mortbay.jetty.nio.BlockingChannelConnector">
	        <Set name="port">8081</Set>
	      </New>
	    </Item>
	    
        <Item>
	      <New class="org.mortbay.jetty.nio.SelectChannelConnector">
	        <Set name="port">8082</Set>
	      </New>
	    </Item>
	    
        <Item>
	      <New class="org.mortbay.jetty.nio.SelectBlockingChannelConnector">
	        <Set name="port">8083</Set>
	      </New>
	    </Item>
	    
      </Array>
    </Set>

    <Set name="handlers">
      <Array type="org.mortbay.jetty.Handler"> 
        <Item>
	      <New id="testContextHandler"  class="org.mortbay.jetty.handler.ContextHandler">
	        <Set name="contextPath">/test</Set>
	        <Set name="resourceBase">./webapps/test</Set>
            <Set name="handler">
              <New id="testSessionHandler" class="org.mortbay.jetty.servlet.SessionHandler">
                 <Set name="handler">
                   <New id="testServletHandler" class="org.mortbay.jetty.servlet.ServletHandler"/>
                 </Set>
              </New>
            </Set>
          </New>
        </Item>
        
        <Item>
	      <New id="testContextHandler"  class="org.mortbay.jetty.handler.ContextHandler">
	        <Set name="contextPath">/javadoc</Set>
	        <Set name="resourceBase">./javadoc</Set>
            <Set name="handler">
               <New id="javadocServletHandler" class="org.mortbay.jetty.servlet.ServletHandler"/>
            </Set>
          </New>
        </Item>
        
        <Item>
	      <New  class="org.mortbay.jetty.handler.NotFoundHandler"/>
        </Item>
        
      </Array>
    </Set>

	<Ref id="testSessionHandler">
		<Set name="SessionManager"><New class="org.mortbay.jetty.servlet.HashSessionManager"/></Set>
	</Ref>
	
	<Ref id="testServletHandler">
	   <Set name="filters">
	       <Array type="org.mortbay.jetty.servlet.FilterHolder">
	         <Item>
	           <New class="org.mortbay.jetty.servlet.FilterHolder">
	             <Set name="name">TestFilter</Set>
	             <Set name="className">org.mortbay.webapps.test.TestFilter</Set>
	           </New>
	         </Item>
	       </Array>
	   </Set>
	  
	   <Set name="filterMappings">
	       <Array type="org.mortbay.jetty.servlet.FilterMapping">
	           <Item>
	              <New class="org.mortbay.jetty.servlet.FilterMapping">
	                <Set name="pathSpec">/*</Set>
	                <Set name="filterName">TestFilter</Set>
	              </New>
	           </Item>
	       </Array>
	   </Set>
	   <Set name="servlets">
	       <Array type="org.mortbay.jetty.servlet.ServletHolder">
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletHolder">
	                 <Set name="name">Dump</Set>
	                 <Set name="className">org.mortbay.webapps.test.Dump</Set>
	              </New>
	           </Item>
	                
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletHolder">
	                 <Set name="name">Session</Set>
	                 <Set name="className">org.mortbay.webapps.test.SessionDump</Set>
	              </New>
	           </Item>
	           
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletHolder">
	                  <Set name="name">Default</Set>
	                  <Set name="className">org.mortbay.jetty.servlet.DefaultServlet</Set>
	              </New>
	           </Item>                
	        </Array>
	    </Set>
	    
	    
	   <Set name="servletMappings">
	       <Array type="org.mortbay.jetty.servlet.ServletMapping">
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletMapping">
	                <Set name="pathSpec">/dump/*</Set>
	                <Set name="servletName">Dump</Set>
	              </New>
	           </Item>
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletMapping">
	                <Set name="pathSpec">/exact</Set>
	                <Set name="servletName">Dump</Set>
	              </New>
	           </Item>
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletMapping">
	                <Set name="pathSpec">*.DUMP</Set>
	                <Set name="servletName">Dump</Set>
	              </New>
	           </Item>
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletMapping">
	                <Set name="pathSpec">/session/*</Set>
	                <Set name="servletName">Session</Set>
	              </New>
	           </Item>
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletMapping">
	                <Set name="pathSpec">/</Set>
	                <Set name="servletName">Default</Set>
	              </New>
	           </Item>
	       </Array>
	   </Set>
	</Ref>

	<Ref id="javadocServletHandler">
	   <Set name="servlets">
	       <Array type="org.mortbay.jetty.servlet.ServletHolder">
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletHolder">
	                  <Set name="name">Default</Set>
	                  <Set name="className">org.mortbay.jetty.servlet.DefaultServlet</Set>
	              </New>
	           </Item>                
	        </Array>
	    </Set>
	    
	   <Set name="servletMappings">
	       <Array type="org.mortbay.jetty.servlet.ServletMapping">
	           <Item>
	              <New class="org.mortbay.jetty.servlet.ServletMapping">
	                <Set name="pathSpec">/</Set>
	                <Set name="servletName">Default</Set>
	              </New>
	           </Item>
	       </Array>
	   </Set>
	</Ref>



    <Call name="start"/>

</Configure>









